[global]
  checkNewVersion = true
  sendAnonymousUsage = false


[providers.docker]
  endpoint = "unix:///var/run/docker.sock"
  exposedByDefault = false
  network = "app_net"


# Dashboard config, only activate it in dev, never in production!
[api]
  insecure = true
  dashboard = true
  debug = true


[log]
  level = "DEBUG"
  filePath = "/etc/traefik/traefik.log"


[accessLog]
  filePath = "/etc/traefik/access.log"
  bufferingSize = 100
  format = "json"

  [accessLog.fields]
    defaultMode = "keep"

    [accessLog.fields.headers]
      defaultMode = "keep"


[entryPoints]

  [entryPoints.web-secure]
      address = ":443"

  [entryPoints.traefik]
    address = ":444"


# Certificate was generated using this procedure:
# https://medium.com/@jonsamp/how-to-set-up-https-on-localhost-for-macos-b597bcf935ee
# Copy cert and key from ~/.localhost-ssl/ to $INSTANCE_DATA_PATH/web/cert/
[[tls.certificates]]
  certFile = "/etc/traefik/localhost.cert"
  keyFile = "/etc/traefik/localhost.key"
